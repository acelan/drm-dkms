From d10df4750c884ac20c70e3a1f8f0d570135ecf45 Mon Sep 17 00:00:00 2001
From: Timo Aaltonen <timo.aaltonen@canonical.com>
Date: Tue, 12 Apr 2016 14:12:03 +0300
Subject: [PATCH] Revert "mm/gup: Introduce get_user_pages_remote()"

This reverts commit 1e9877902dc7e11d2be038371c6fbf2dfcd469d7.
---
 drivers/gpu/drm/i915/i915_gem_userptr.c | 10 +++++-----

diff --git a/drivers/gpu/drm/i915/i915_gem_userptr.c b/drivers/gpu/drm/i915/i915_gem_userptr.c
index 18ba813..cda253b 100644
--- a/drivers/gpu/drm/i915/i915_gem_userptr.c
+++ b/drivers/gpu/drm/i915/i915_gem_userptr.c
@@ -503,11 +503,11 @@ __i915_gem_userptr_get_pages_worker(struct work_struct *_work)
 
 		down_read(&mm->mmap_sem);
 		while (pinned < npages) {
-			ret = get_user_pages_remote(work->task, mm,
-					obj->userptr.ptr + pinned * PAGE_SIZE,
-					npages - pinned,
-					!obj->userptr.read_only, 0,
-					pvec + pinned, NULL);
+			ret = get_user_pages(work->task, mm,
+					     obj->userptr.ptr + pinned * PAGE_SIZE,
+					     npages - pinned,
+					     !obj->userptr.read_only, 0,
+					     pvec + pinned, NULL);
 			if (ret < 0)
 				break;
 
-- 
2.7.4

